<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <configSections>
        <sectionGroup name="applicationSettings"
                      type="System.Configuration.ApplicationSettingsGroup, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
            <section name="WeatherService.Settings"
                     type="System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
                     requirePermission="false" />
        </sectionGroup>
    </configSections>
    <startup>
        <supportedRuntime version="v4.0"
                          sku=".NETFramework,Version=v4.5" />
    </startup>
    <applicationSettings>
        <WeatherService.Settings>
            <setting name="LogDatabase"
                     serializeAs="String">
                <value>False</value>
            </setting>
            <setting name="LcdTemplate"
                     serializeAs="String">
                <value />
            </setting>
            <setting name="PollingInterval"
                     serializeAs="String">
                <value>00:00:01</value>
            </setting>
            <setting name="DatabaseFile"
                     serializeAs="String">
                <value>C:\WeatherCenter\WeatherCenter.sdf</value>
            </setting>
            <setting name="SignalR_ListenUrl"
                     serializeAs="String">
                <value>http://*:9090</value>
            </setting>
            <setting name="SignalR_ConnectUrl"
                     serializeAs="String">
                <value>http://localhost:9090</value>
            </setting>
        </WeatherService.Settings>
    </applicationSettings>
    <system.serviceModel>
        <bindings>
            <webHttpBinding>
                <binding name="webHttpBindingWithJson"
                         crossDomainScriptAccessEnabled="true" />
            </webHttpBinding>
            <netTcpBinding>
                <binding name="netTcpBindingNoSecurity">
                    <security mode="None"></security>
                </binding>
            </netTcpBinding>
        </bindings>
        <services>
            <service behaviorConfiguration="Default"
                     name="WeatherService.WeatherServiceDuplex">
                <endpoint address=""
                          binding="netTcpBinding"
                          bindingConfiguration="netTcpBindingNoSecurity"
                          contract="WeatherService.IWeatherServiceDuplex" />
                <endpoint address="mex"
                          binding="mexTcpBinding"
                          contract="IMetadataExchange" />
                <host>
                    <baseAddresses>
                        <add baseAddress="net.tcp://server:9001" />
                    </baseAddresses>
                </host>
            </service>
            <service behaviorConfiguration="Default"
                     name="WeatherService.WeatherService">
                <endpoint address="json"
                          binding="webHttpBinding"
                          bindingConfiguration="webHttpBindingWithJson"
                          contract="WeatherService.IWeatherService" />
                <host>
                    <baseAddresses>
                        <add baseAddress="http://server:9000" />
                    </baseAddresses>
                </host>
            </service>
        </services>
        <behaviors>
            <serviceBehaviors>
                <behavior name="Default">
                    <serviceMetadata httpGetEnabled="true" />
                </behavior>
            </serviceBehaviors>
        </behaviors>
    </system.serviceModel>
    <runtime>
        <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
            <dependentAssembly>
                <assemblyIdentity name="Microsoft.AspNet.SignalR.Core"
                                  publicKeyToken="31bf3856ad364e35"
                                  culture="neutral" />
                <bindingRedirect oldVersion="0.0.0.0-2.0.3.0"
                                 newVersion="2.0.3.0" />
            </dependentAssembly>
            <dependentAssembly>
                <assemblyIdentity name="Microsoft.Owin"
                                  publicKeyToken="31bf3856ad364e35"
                                  culture="neutral" />
                <bindingRedirect oldVersion="0.0.0.0-2.1.0.0"
                                 newVersion="2.1.0.0" />
            </dependentAssembly>
            <dependentAssembly>
                <assemblyIdentity name="Newtonsoft.Json"
                                  publicKeyToken="30ad4fe6b2a6aeed"
                                  culture="neutral" />
                <bindingRedirect oldVersion="0.0.0.0-6.0.0.0"
                                 newVersion="6.0.0.0" />
            </dependentAssembly>
        </assemblyBinding>
    </runtime>
</configuration>